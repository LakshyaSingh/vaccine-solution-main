{"version":3,"sources":["webpack:///./src/pages/solution/cold-monitoring/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-solution-cold-monitoring-index-mdx-56506f1ece9c29424ce6.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/osowski/projects/eda/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <PageDescription mdxType=\"PageDescription\">\nThis microservice aims to monitor the cold-chain over time and to assess is the refrigerator is still running according to specifications.\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Build</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Run</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Usage Details</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <p>{`The reefer monitoring agent get telemetry events from a kafka topic and process them using stateful operation on time window, and then creates reefer-cold-chain-violation event to the reefer kafka topic in case the temperature goes over a define threshold over a specific time period. For each received metrics it can also call an anomaly detection service to compute the risk of failure. `}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"53.125%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVQoz32Tz2sTQRTHF+9e+gd4Vax6EUVQEPTqKcWiB0ERr0JBpRdBqXio1qgpCnqoqI0xnvxBq4K00dhCU22sJiQxibFJk2w2yf7I/sz++Dozm7R40Lc83sy89z4z780s58GD67mgX3/cVjS0ZF/FjgaHrIH6XBdW1waVmXgaA0euYOfwBLYdu44Dp0MslqMACnJchwXmSg1sH7qBPSeD2H3iFgaPTyDx7TfloSMb0DXLB8ZSOHR2EueuRTE8+hiBi4/IAdRNoGl2WWCxLGDfqSCGLkwhQPTgmTtYza4zn+04rBIqpXoLocg87j2PIfRsHpG3CRiW5QOptNttqJrKxoqqoqNpPauD5xvQdI35urZf8vTrL+AGRzBw9Cq27B9lZTclckJaqu10oaoaTMvsle4x9UjPHHIqXTfY6WglVg/4ebmA8+MvcDc8h7EHsxh7OAtVN8F1bQs1QUAylUO13iCJNnTDQCpXQLnCs7lhGRsX9j+hMRwd/Pi1jifvFpEjACo07VU8ibmvGTa3+kCikfcrCIY/4vb0J9x8GkOqWPdbQftLNuQo9ycBvVlYRaZUgUF6JUoSPiynkMyXISoKFtMVtr8gSNgRGAe39xK2Hr4MbtcIJqPxv4FtRYesGURNlCpVpEmpVKt8E5JiQJA6SJc7rI+1Oo/wbAJTLxcQnlnC/WgMK5k1BnRc/7VwUlOGRpKaNQHFbB61tSqxBRQyeUiCCIX4lZbMEv4l/afHgG6rBVcUAVmCwdfxPR5HNrHE1jxJZNZt8BuXQsF9tan1Nv8wav8AFJwS0zRArBEAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"cold monitoring 1\",\n        \"title\": \"cold monitoring 1\",\n        \"src\": \"/vaccine-solution-main/static/592098bb7c68d4abdb6525813e4be606/3cbba/cold-monitoring-1.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/592098bb7c68d4abdb6525813e4be606/7fc1e/cold-monitoring-1.png 288w\", \"/vaccine-solution-main/static/592098bb7c68d4abdb6525813e4be606/a5df1/cold-monitoring-1.png 576w\", \"/vaccine-solution-main/static/592098bb7c68d4abdb6525813e4be606/3cbba/cold-monitoring-1.png 1152w\", \"/vaccine-solution-main/static/592098bb7c68d4abdb6525813e4be606/f5f59/cold-monitoring-1.png 1522w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`In case of cold chain violation the impacted lots needs to be reported as spoiled via new records logged to the blockchain hyperledger. This is the responsability of the reefer manager microservice has it has visibility of the loaded vaccine lots for each container. Telemetry events have information on the sensors and the geolocation of the reefer.`}</p>\n    <p><strong parentName=\"p\">{`Github repository:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.ibm.com/vaccine-cold-chain/coldchainmonitoring\"\n      }}>{`vaccine-cold-monitoring`}</a></p>\n    <p><strong parentName=\"p\">{`Kafka topics consumed from:`}</strong>{` telemetries as defined by:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: kafka.strimzi.io/v1beta1\n  kind: KafkaTopic\n  metadata:\n    name: telemetries\n    labels:\n      strimzi.io/cluster: event-streams\n  spec:\n    partitions: 10\n    replicas: 3\n    config:\n      retention.ms: 14400000\n      segment.bytes: 1073741824\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Kafka topics produced to:`}</strong>{` reefers in case of anomaly detection or cold chain violation`}</p>\n    <p><strong parentName=\"p\">{`Events reacted to:`}</strong>{` telemetry events like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class TelemetryEvent {\n\n    public String containerID;\n    public Telemetry payload;\n    public String timestamp;\n    public String type;\n`}</code></pre>\n    <p>{`and the payload:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{` public String container_id;\n    public String measurement_time;\n    public String product_id;\n    public double temperature;\n    public double target_temperature; \n    public double ambiant_temperature; \n    public double kilowatts; \n    public double time_door_open;\n    public int content_type; \n    public int defrost_cycle;\n    public double oxygen_level; \n    public double nitrogen_level; \n    public double humidity_level;\n    public double target_humidity_level;\n    public double carbon_dioxide_level; \n    public boolean fan_1; \n    public boolean fan_2; \n    public boolean fan_3;\n    public double latitude;\n    public double longitude;\n  \n`}</code></pre>\n    <p><strong parentName=\"p\">{`Events produced:`}</strong>{` reefer anomaly detected and reefer cold chain violated`}</p>\n    <h2>{`Build`}</h2>\n    <p>{`This microservice is built using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev/\"\n      }}>{`Appsody`}</a>{` development framework. The `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev/docs/installing/installing-appsody\"\n      }}>{`Appsody CLI`}</a>{` is a required prerequisite for building the application locally.`}</p>\n    <p>{`Appsody will build the application by pulling the contents of the Appsody `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/jbcodeforce/appsody-stacks/tree/master/ibm-gse-eda-quarkus\"\n      }}>{`Garage solution engineering Quarkus Stack`}</a>{` it is based on and then performing the local application build inside the containerized environment:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# if not logged yes to your openshift cluster where the docker private registry resides do:\noc login --token=... --server=https://c...\n# Get the route to reach the docker private registry\noc get route --all-namespaces | grep registry\n# Define the path as environment variable\nexport IMAGE_REGISTRY=default-route-openshift-image-registry.gse-eda-demo-202005-fa9ee67c9ab6a7791435450358e564cc-0000.us-south.containers.appdomain.cloud\n# log to the docker registry using the security token from the openshift console\ndocker login $IMAGE_REGISTRY\n# Then build and push the image\nappsody build -t vaccine-cold-chain/vaccine-cold-monitoring:0.0.1 [--push-url $IMAGE_REGISTRY] [--push]\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`You can optionally specify a container tag. If left blank, `}<inlineCode parentName=\"li\">{`latest`}</inlineCode>{` will be used.`}</li>\n      <li parentName=\"ul\">{`You can optionally supply the `}<inlineCode parentName=\"li\">{`--push`}</inlineCode>{` flag to automatically push the built image to specified remote repository `}<inlineCode parentName=\"li\">{`--push-url`}</inlineCode>{`.`}</li>\n    </ul>\n    <p>{`Performing an Appsody build will update the `}<inlineCode parentName=\"p\">{`app-deploy.yaml`}</inlineCode>{` file in the same directory with current information for the application image, labels, and annotations fields.`}</p>\n    <p>{`This file needs to be updated to include the different environment variables needed by the application:`}</p>\n    <h3>{`Deployment Parameters`}</h3>\n    <p>{`The following deployment parameters are defined in the `}<inlineCode parentName=\"p\">{`app-deploy.yaml`}</inlineCode>{` file:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`KAFKA_BROKERS`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`YES`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Comma-separated list of Kafka brokers to connect to`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`KAFKA_APIKEY`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`API Key used to connect to SASL-secured Kafka brokers. This is required when connecting to IBM Event Streams clusters.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TRUSTSTORE_ENABLED`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required to be set to `}<inlineCode parentName=\"td\">{`true`}</inlineCode>{` when connecting to IBM Event Streams on the IBM Cloud Pak for Integration (CP4I).`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TRUSTSTORE_PATH`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The local path to the required truststore file when connecting to IBM Event Streams on CP4I. See `}<a parentName=\"td\" {...{\n              \"href\": \"#volume-mounts\"\n            }}><strong parentName=\"a\">{`Volume Mounts`}</strong></a>{` below.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TRUSTSTORE_PWD`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The password for the truststore file used for IBM Event Streams server verification.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`TELEMETRIES_TOPIC`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Topic name for the IoT telemetry related events. Defaulted to `}<inlineCode parentName=\"td\">{`telemetries`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REEFER_TOPIC`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Topic name for the reefer related events. Defaulted to `}<inlineCode parentName=\"td\">{`reefers`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`ANOMALY_DETECTION_URL`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL for the anomaly detection predictive scoring as deployed in Watson ML in Cloud Pak for Data. If not set the reefer monitoring agent will not try to call the scoring.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`WL_TOKEN`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`NO`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Authentication bearer token to access the anomaly detection end point.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2>{`Run`}</h2>\n    <h3>{`Volume mounts`}</h3>\n    <p>{`The cold chain monitoring microservice requires up to one file to be injected at runtime for proper operation. As noted in the `}<inlineCode parentName=\"p\">{`TRUSTSTORE_PATH`}</inlineCode>{` parameter above, these files are SSL-based certificates which are required to verify the identity of the external service when calling it. These files are provided as `}<inlineCode parentName=\"p\">{`--docker-options \"-v host-src:container-dest ...\"`}</inlineCode>{` when running the microservice locally and as a Volume Mount when running the microservice on a Kubernetes cluster.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`TRUSTSTORE_PATH`}</inlineCode>{` parameter is documented in the `}<strong parentName=\"p\">{`Event Streams Certificates`}</strong>{` section of the `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/microservices/prereqs/#ibm-event-streams-on-redhat-openshift-container-platform\"\n      }}>{`Prerequisites`}</a>{` page. The Appsody run command should include a parameter similar to `}<inlineCode parentName=\"p\">{`-v /Users/myuser/Downloads/es-cert.jks:/config/resources/security/es-ssl/es-cert.jks`}</inlineCode>{` in its `}<inlineCode parentName=\"p\">{`--docker-options`}</inlineCode>{` string to run this microservice locally.`}</p>\n    <p><strong parentName=\"p\">{`Example:`}</strong>{` `}<inlineCode parentName=\"p\">{`appsody run --docker-options \"-v /Users/myuser/Downloads/es-cert.jks:/config/resources/security/es-ssl/es-cert.jks\" ...`}</inlineCode></p>\n    <h3>{`Running locally`}</h3>\n    <p>{`When running the microservice locally, you must specify all the required `}<a parentName=\"p\" {...{\n        \"href\": \"#deployment-parameters\"\n      }}>{`deployment parameters`}</a>{` from above as environment variables via the `}<inlineCode parentName=\"p\">{`--docker-options`}</inlineCode>{` flag being passed in from the Appsody CLI command.`}</p>\n    <p><strong parentName=\"p\">{`Example:`}</strong>{` `}<inlineCode parentName=\"p\">{`appsody run --docker-options \"-e KAFKA_BROKERS=remotebroker1:9092,remotebroker2:9092 -e TELEMETRIES_TOPIC=telemetries -e REEFER_TOPIC=reefers -v /Users/myuser/Downloads/es-cert.jks:/config/resources/security/es-ssl/es-cert.jks\" ...`}</inlineCode></p>\n    <p>{`For more details on running the microservice locally, consult the Appsody run documentation as well as the deployment information contained in the app-deploy.yaml file.`}</p>\n    <h3>{`Running remotely`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://appsody.dev/docs/reference/appsody-operator/\"\n      }}>{`Appsody Operator`}</a>{` is a required prerequisite for deploying the microservice to a remote Kubernetes or OpenShift cluster.`}</p>\n    <p>{`To deploy the microservice to a remote cluster:`}</p>\n    <p><inlineCode parentName=\"p\">{`appsody deploy ibmcase/[:tag] --no-build`}</inlineCode></p>\n    <ul>\n      <li parentName=\"ul\">{`You can omit the `}<inlineCode parentName=\"li\">{`--no-build`}</inlineCode>{` flag to have Appsody perform a build before deploying the application.`}</li>\n      <li parentName=\"ul\"><em parentName=\"li\"><strong parentName=\"em\">{`Note:`}</strong></em>{` Performing a build at deploy time requires specifying the absolute container reference path, as well as the `}<inlineCode parentName=\"li\">{`--push`}</inlineCode>{` flag.`}</li>\n      <li parentName=\"ul\">{`The neccesary deployment parameter information will be read from the `}<inlineCode parentName=\"li\">{`app-deploy.yaml`}</inlineCode>{` file in the same directory.`}</li>\n    </ul>\n    <h2>{`Usage Details`}</h2>\n    <h3>{`REST APIs`}</h3>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}